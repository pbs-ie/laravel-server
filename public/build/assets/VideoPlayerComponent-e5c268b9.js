import{a as e,j as s,r as h}from"./app-8ad4302f.js";import{L as C}from"./Loader-f2cca895.js";import{C as k}from"./ChevronLeft-70d017db.js";import{C as U}from"./ChevronRight-12ba1752.js";import{H as V}from"./Heading2Nospace-684fac3d.js";import{H as j}from"./Heading3-34c076d0.js";function w({disabled:d=!1,onClick:u,className:n="",children:a}){return e("button",{className:"disabled:text-gray-400 hover:text-blue-500 hover:scale-110 md:hover:scale-125 focus:text-blue-500 active:text-blue-500 transition-[transform,color] z-10 "+n,disabled:d,onClick:u,children:a})}function R({title:d,duration:u,onClick:n,active:a=!1,total:p,imageLink:c,idx:m}){return e("div",{className:"flex-none snap-center",children:s("button",{onClick:n,className:"inline-flex flex-col items-center gap-2 p-2 md:p-4 overflow-hidden rounded-lg drop-shadow-lg "+(a?"bg-pbsblue text-slate-50":"bg-stone-100 text-gray-600"),children:[e("div",{className:"relative",children:e("img",{src:c,alt:"Video "+m,className:"block object-cover h-20 md:h-32 w-full rounded aspect-[4/3]"})}),e("p",{className:"text-base md:text-xl font-bold "+(a?"text-slate-50":"text-blue-700"),children:d===""?`Title ${m}`:d}),s("div",{className:"flex justify-between w-full text-sm",children:[e("p",{children:u}),s("div",{className:"inline-flex",children:[e("p",{className:"font-bold",children:m+1}),e("p",{children:`${p?"/"+p:""}`})]})]})]})})}function $({title:d,imageLink:u,content:n}){const[a,p]=h.useState(n||[]),c=h.useRef(null);h.useEffect(()=>{n&&p(n)},[n]);const m=l=>{c.current&&c.current.scroll({top:0,left:l*Math.floor(c.current.scrollWidth/a.length)-80,behavior:"smooth"})},g={externalUrl:"",title:"",duration:"",isLoading:!1,id:-1},L=(l=g,{type:i,payload:o})=>{switch(i){case"loadComplete":return{...l,isLoading:!1};case"setVideo":return{...l,...o};case"nextVideo":const t=a[(l.id+1)%a.length];return{...l,isLoading:!0,externalUrl:t==null?void 0:t.externalUrl,duration:t==null?void 0:t.duration,id:t==null?void 0:t.id,title:t==null?void 0:t.title};case"prevVideo":let v=l.id-1;v<0&&(v=l.id);const x=a[v];return{...l,isLoading:!0,externalUrl:x.externalUrl,duration:x.duration,id:x.id,title:x.title};default:return l}},[r,f]=h.useReducer(L,g);h.useEffect(()=>{var l,i,o;f({type:"setVideo",payload:{externalUrl:(l=a[0])==null?void 0:l.externalUrl,title:(i=a[0])==null?void 0:i.title,duration:(o=a[0])==null?void 0:o.duration,isLoading:!1,id:0}})},[]);const y=({externalUrl:l,title:i,duration:o,id:t})=>{m(t),l!==r.externalUrl&&f({type:"setVideo",payload:{externalUrl:l,isLoading:!0,title:i,duration:o,id:t}})},N=(l,i)=>{switch(m(i),l){case"prev":return()=>f({type:"prevVideo"});case"next":return()=>f({type:"nextVideo"});default:return}},b=()=>a.length>1;return a.length>0?s("section",{className:"flex flex-col w-full",children:[e("div",{className:"relative justify-center py-5 mx-2 md:mx-auto md:max-w-4xl",children:s("div",{className:"flex flex-col items-center w-full gap-2",children:[e(V,{children:d}),e("div",{className:"self-start",children:e(j,{children:r.isLoading?e("p",{children:"â€¦"}):r.title})}),s("div",{className:"relative self-stretch md:self-center",children:[r.isLoading?e("div",{className:"absolute bottom-0 mb-5 text-2xl right-5",children:e(C,{})}):null,e("iframe",{title:r.title,onLoad:()=>f({type:"loadComplete"}),src:r.externalUrl,height:"506",width:"900",allowFullScreen:!0,allow:"autoplay",className:"aspect-video w-full h-auto md:w-[900px]"})]}),b()&&s("div",{className:"flex gap-10",children:[e(w,{className:"md:float-left",disabled:r.id===0,onClick:N("prev",r.id),children:s("p",{className:"flex items-center",children:[e(k,{className:"w-5 h-5 md:w-10 md:h-10"}),"Previous"]})}),e(w,{className:"md:float-right",disabled:r.id===a.length-1,onClick:N("next",r.id),children:s("p",{className:"flex items-center",children:["Next",e(U,{className:"w-5 h-5 md:w-10 md:h-10"})]})})]})]})}),b()&&e("div",{className:"w-full px-2 mx-auto md:px-20 xl:px-40",children:e("div",{ref:c,id:"carousel-cards",className:"flex gap-5 p-2 overflow-x-auto bg-slate-50 justify-items-center",children:a.map(({title:l,duration:i,externalUrl:o},t)=>e(R,{active:r.id===t,total:a.length,title:l,duration:i,imageLink:u,idx:t,onClick:()=>y({externalUrl:o,title:l,duration:i,id:t})},t))})})]}):null}export{$ as V};
